(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-bcff9d46"],{"058a":function(t,a,e){"use strict";e.d(a,"h",(function(){return n})),e.d(a,"j",(function(){return r})),e.d(a,"k",(function(){return c})),e.d(a,"l",(function(){return o})),e.d(a,"i",(function(){return i})),e.d(a,"d",(function(){return l})),e.d(a,"a",(function(){return u})),e.d(a,"g",(function(){return d})),e.d(a,"f",(function(){return p})),e.d(a,"c",(function(){return f})),e.d(a,"e",(function(){return h})),e.d(a,"b",(function(){return v}));var s="http://60qb8761xi36.vicp.fun",n=s+"/api/users/getAll",r=s+"/api/users/register",c=s+"/api/users/register_application/approve",o=s+"/api/users",i=s+"/api/users/login",l=s+"/api/questions/categories",u=s+"/api/records/user",d=s+"/api/users/register_application",p=s+"/api/records",f=s+"/api/questions/batch",h=s+"/api/questions/category",v=s+"/api/questions/category"},3479:function(t,a,e){"use strict";e("590c")},"590c":function(t,a,e){},9406:function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"dashboard-container"},[e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{span:12,xs:24}},[e("el-card",{staticClass:"dashboard-card",staticStyle:{"background-color":"#D1E9E9"},attrs:{shadow:"hover"}},[e("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[e("span",{staticClass:"card-title"},[t._v("帳號資訊")])]),e("el-row",[e("el-col",{attrs:{span:12}},[e("i",{staticClass:"el-icon-user"}),e("span",{staticClass:"info-label"},[t._v("帳號：")])]),e("el-col",{attrs:{span:12}},[e("span",{staticClass:"info-content"},[t._v(t._s(t.Uaccount))])])],1),e("el-row",[e("el-col",{attrs:{span:12}},[e("i",{staticClass:"el-icon-s-custom"}),e("span",{staticClass:"info-label"},[t._v("姓名：")])]),e("el-col",{attrs:{span:12}},[e("span",{staticClass:"info-content"},[t._v(t._s(t.Uname))])])],1)],1)],1),e("el-col",{attrs:{span:12,xs:24}},[e("el-card",{staticClass:"dashboard-card",staticStyle:{"background-color":"#FFF8D7"},attrs:{shadow:"hover"}},[e("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[e("span",{staticClass:"card-title"},[t._v("權限資訊")])]),e("el-row",[e("el-col",{attrs:{span:12}},[e("i",{staticClass:"el-icon-s-check"}),e("span",{staticClass:"info-label"},[t._v("權限:")])]),e("el-col",{attrs:{span:12}},[e("span",{staticClass:"info-content"},[t._v(t._s(t.Urole))])])],1),e("el-row",[e("el-col",{attrs:{span:12}},[e("i",{staticClass:"el-icon-key"}),e("span",{staticClass:"info-label"},[t._v("系統存處帳號：")])]),e("el-col",{attrs:{span:12}},[e("span",{staticClass:"info-content"},[t._v(t._s(t.name))])])],1)],1)],1)],1),e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{span:24,xs:24}},[e("el-card",{staticClass:"dashboard-card",staticStyle:{"background-color":"#E8E8D0"},attrs:{shadow:"hover"}},[e("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[e("span",{staticClass:"card-title"},[t._v("做題次數")])]),e("el-row",{attrs:{gutter:10}},[e("el-col",{attrs:{span:8}},[e("el-card",{staticClass:"dashboard-card",attrs:{shadow:"hover"}},[e("div",{staticClass:"info-content",staticStyle:{"text-align":"center"}},[t._v("總數")]),e("div",{staticStyle:{"margin-top":"10px","font-size":"24px","font-weight":"bold","text-align":"center"}},[t._v(t._s(t.totalCount))])])],1),t._l(t.allCategories,(function(a){return e("el-col",{key:a,attrs:{span:8}},[e("el-card",{staticClass:"dashboard-card",staticStyle:{"text-align":"center"},attrs:{shadow:"hover"}},[e("div",{staticClass:"info-content"},[t._v(t._s(a)+" ")]),e("div",{staticClass:"info-content",staticStyle:{"margin-top":"10px","font-size":"24px","font-weight":"bold","text-align":"center"}},[t._v(t._s(t.categoryCounts[a]||0))])])],1)}))],2)],1)],1)],1)],1)},n=[],r=e("5530"),c=e("c7eb"),o=e("1da1"),i=(e("99af"),e("7db0"),e("b0c0"),e("d3b7"),e("159b"),e("2f62")),l=e("058a"),u={name:"Dashboard",data:function(){return{Uname:"",Urole:"",Uaccount:"",categoryCounts:{},totalCount:0,allCategories:[]}},created:function(){var t=this;return Object(o["a"])(Object(c["a"])().mark((function a(){var e,s,n;return Object(c["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,fetch(l["h"]);case 3:return e=a.sent,a.next=6,e.json();case 6:s=a.sent,1===s.code&&s.data&&(n=s.data.find((function(a){return a.account===t.name})),n&&(t.Uname=n.name,t.Uaccount=n.account,t.Urole=n.role)),a.next=13;break;case 10:a.prev=10,a.t0=a["catch"](0),console.error("獲取用戶資料時發生錯誤:",a.t0);case 13:return a.next=15,t.fetchAllCategories();case 15:return a.next=17,t.fetchQuestionCounts();case 17:case"end":return a.stop()}}),a,null,[[0,10]])})))()},methods:{fetchAllCategories:function(){var t=this;return Object(o["a"])(Object(c["a"])().mark((function a(){var e,s;return Object(c["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,fetch(l["d"]);case 3:return e=a.sent,a.next=6,e.json();case 6:s=a.sent,1===s.code&&s.data?t.allCategories=s.data:console.error("獲取所有類別失敗:",s.msg),a.next=13;break;case 10:a.prev=10,a.t0=a["catch"](0),console.error("獲取所有類別時發生錯誤:",a.t0);case 13:case"end":return a.stop()}}),a,null,[[0,10]])})))()},fetchQuestionCounts:function(){var t=this;return Object(o["a"])(Object(c["a"])().mark((function a(){var e,s;return Object(c["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,fetch("".concat(l["a"],"/").concat(t.name));case 3:return e=a.sent,a.next=6,e.json();case 6:s=a.sent,1===s.code&&s.data?t.calculateCategoryCounts(s.data):console.error("獲取做題記錄失敗:",s.msg),a.next=13;break;case 10:a.prev=10,a.t0=a["catch"](0),console.error("獲取做題記錄時發生錯誤:",a.t0);case 13:case"end":return a.stop()}}),a,null,[[0,10]])})))()},calculateCategoryCounts:function(t){var a={};this.allCategories.forEach((function(t){a[t]=0})),t.forEach((function(t){void 0!==a[t.category]&&a[t.category]++})),this.categoryCounts=a,this.totalCount=t.length}},computed:Object(r["a"])({},Object(i["b"])(["name"]))},d=u,p=(e("3479"),e("2877")),f=Object(p["a"])(d,s,n,!1,null,"28dc2e0e",null);a["default"]=f.exports}}]);